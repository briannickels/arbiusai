(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[547],{4979:function(e,t,a){let s=a(7294),i=s.forwardRef(function({title:e,titleId:t,...a},i){return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:i,"aria-labelledby":t},a),e?s.createElement("title",{id:t},e):null,s.createElement("path",{fillRule:"evenodd",d:"M9 3.5a5.5 5.5 0 100 11 5.5 5.5 0 000-11zM2 9a7 7 0 1112.452 4.391l3.328 3.329a.75.75 0 11-1.06 1.06l-3.329-3.328A7 7 0 012 9z",clipRule:"evenodd"}))});e.exports=i},3416:function(e,t,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/explorer",function(){return a(1697)}])},9829:function(e,t,a){"use strict";a.d(t,{T:function(){return s}});let s={scheme:"monokai",author:"wimer hazenberg (http://www.monokai.nl)",base00:"#272822",base01:"#383830",base02:"#49483e",base03:"#75715e",base04:"#a59f85",base05:"#f8f8f2",base06:"#f5f4f1",base07:"#f9f8f5",base08:"#f92672",base09:"#fd971f",base0A:"#f4bf75",base0B:"#a6e22e",base0C:"#a1efe4",base0D:"#66d9ef",base0E:"#ae81ff",base0F:"#cc6633"}},1697:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return v}});var s=a(5893),i=a(1664),d=a.n(i),l=a(7294),n=a(2197),r=a(4979),o=a(9077),c=a(2593),u=a(2169),m=a(4146),g=a(2046),b=a(9455),h=a(6472),x=a(9542),f=a(9829);function v(){let{chain:e}=(0,o.LN)(),{address:t}=(0,o.mA)(),[a,i]=(0,l.useState)(""),[v,p]=(0,l.useState)(!1),[k,w]=(0,l.useState)(c.O$.from(0)),[y,N]=(0,l.useState)(!1),[j,S]=(0,l.useState)([]),E=()=>"evt-".concat(Math.floor(Math.random()*Number.MAX_SAFE_INTEGER).toString()),{data:C,isError:_,isLoading:T}=(0,o.Ov)({enabled:0===j.length});return(0,l.useEffect)(()=>{(async function(){if(y||!C)return;console.log("blockNumber",C);let e=new u.r("https://nova.arbitrum.io/rpc"),t=new m.CH(b.St,h.Mt,e),a=[];for(let e of(await t.queryFilter({address:t.address,topics:[["TaskSubmitted(bytes32,bytes32,uint256,address)","SolutionSubmitted(address,bytes32)","SolutionClaimed(address,bytes32)","ContestationSubmitted(address,bytes32)","ContestationVote(address,bytes32)"].map(e=>g.id(e))]},C-128,"latest")).sort((e,t)=>t.blockNumber-e.blockNumber).map(e=>({...e,...t.interface.parseLog(e)}))){var s,i,d,l,n,r,o,c,x,f,v,p,k;let t=E(),u=new Date(+new Date-1e3*(C-e.blockNumber));switch(e.name){case"TaskSubmitted":a.push({key:t,date:u,title:"TaskSubmitted",data:{task:null===(s=e.args)||void 0===s?void 0:s.id,model:null===(i=e.args)||void 0===i?void 0:i.model,fee:null===(d=e.args)||void 0===d?void 0:d.fee.toString(),sender:null===(l=e.args)||void 0===l?void 0:l.sender}});break;case"SolutionSubmitted":a.push({key:t,date:u,title:"SolutionSubmitted",data:{addr:null===(n=e.args)||void 0===n?void 0:n.addr,task:null===(r=e.args)||void 0===r?void 0:r.task}});break;case"SolutionClaimed":a.push({key:t,date:u,title:"SolutionClaimed",data:{addr:null===(o=e.args)||void 0===o?void 0:o.addr,task:null===(c=e.args)||void 0===c?void 0:c.task}});break;case"ContestationSubmitted":a.push({key:t,date:u,title:"ContestationSubmitted",data:{addr:null===(x=e.args)||void 0===x?void 0:x.addr,task:null===(f=e.args)||void 0===f?void 0:f.task}});break;case"ContestationVote":a.push({key:t,date:u,title:"ContestationVote",data:{addr:null===(v=e.args)||void 0===v?void 0:v.addr,task:null===(p=e.args)||void 0===p?void 0:p.task,yea:null===(k=e.args)||void 0===k?void 0:k.yea}})}}S(e=>[...a,...e]),N(!0)})()},[C]),(0,s.jsx)(x.Z,{title:"Explorer",children:(0,s.jsxs)("main",{children:[(0,s.jsx)("div",{className:"px-4 py-5 sm:p-6"}),(0,s.jsxs)("div",{className:"px-4 py-5 sm:p-6 bg-slate-50 border border-slate-200 rounded-lg",children:[(0,s.jsx)("div",{className:"mx-auto max-w-7xl",children:(0,s.jsx)("h1",{className:"text-3xl font-bold leading-tight tracking-tight text-gray-900",children:"Look up Task"})}),(0,s.jsx)("div",{className:"mt-2 max-w-xl text-sm text-gray-500",children:(0,s.jsx)("p",{children:"Enter the task id to view all information regarding it."})}),(0,s.jsxs)("div",{className:"mt-5 flex justify-end sm:w-full lg:w-1/2",children:[(0,s.jsx)("input",{type:"text",name:"task",id:"task",value:a,onChange:e=>i(e.target.value),className:"block w-full rounded-full border-0 px-4 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 dark:focus:ring-cyan-800 sm:text-sm sm:leading-6 bg-white dark:bg-[#26242d]",placeholder:"0x..."}),(0,s.jsx)(d(),{href:"/task/".concat(a),children:(0,s.jsx)("button",{type:"button",className:"rounded-full bg-white px-4 py-2.5 text-sm font-semibold text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 hover:bg-gray-50 ml-5",disabled:0===a.length,children:(0,s.jsx)(r,{className:"-ml-0.5 h-5 w-5","aria-hidden":"true"})})})]})]}),(0,s.jsx)("div",{className:"sm:rounded-lg",children:(0,s.jsxs)("div",{className:"px-4 py-5 sm:p-6",children:[(0,s.jsx)("div",{className:"mx-auto max-w-7xl",children:(0,s.jsx)("h1",{className:"text-3xl font-bold leading-tight tracking-tight text-gray-900",children:"Recent Activity"})}),(0,s.jsx)("div",{className:"mt-2 max-w-xl text-sm text-gray-500",children:(0,s.jsx)("p",{children:"Live feed of network activity."})}),(0,s.jsxs)("div",{className:"mt-5 text-black",children:[(0,s.jsx)("div",{children:(0,s.jsx)("strong",{children:"Activity:"})}),j.slice(0,100).map(e=>(0,s.jsxs)("div",{className:"border mt-2",children:[(0,s.jsxs)("div",{className:"text-md bg-slate-50 p-2 pl-0",children:[(0,s.jsx)("span",{className:"text-sm p-5 pl-3",children:(0,s.jsxs)("span",{className:"bg-slate-100 p-1 rounded-md",children:[e.date.toLocaleTimeString()," ",e.date.toLocaleDateString()]})}),e.title,e.data.task&&(0,s.jsx)(d(),{href:"/task/".concat(e.data.task),className:"text-cyan-700 float-right",target:"_blank",children:"view task"})]}),(0,s.jsx)(n.L,{data:e.data,hideRoot:!1,theme:f.T,invertTheme:!0,shouldExpandNodeInitially:(e,t,a)=>!1})]},e.key)),0===j.length?(0,s.jsx)("div",{children:"waiting for event..."},"evt-0"):""]})]})})]})})}}},function(e){e.O(0,[563,462,542,472,774,888,179],function(){return e(e.s=3416)}),_N_E=e.O()}]);